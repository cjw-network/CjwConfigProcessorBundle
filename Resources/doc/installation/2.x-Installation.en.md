# Installing CJW ConfigProcessor Bundle for Ibexa Platform 2.x

## Versions

The bundle loosely follows the eZ / Ibexa platform version number to signify
compatibility. This means, that version 3.x of the bundle is going to be compatible
with version 3.x of the platform, version 2.x of the bundle with platform 2.x etc.

### Step 1: Download the Bundle

Open a command console, enter your project directory and execute the
following command to download the latest stable version of this bundle:

```console
$ composer require cjw-network/cjw-config-processor:2.*
```

### Step 2: Enable the Bundle

Then, enable the bundle by adding it to the list of registered bundles
in the `app/AppKernel.php` file of your project or an equivalent custom kernel
of your own:

```php
// app/AppKernel.php
public function registerBundles(): iterable
{
    //...
    $bundles[] = new CJW\CJWConfigProcessor\CJWConfigProcessorBundle();
}
```

### Important Note:

The Symfony Kernel of your installation must not be final, since a substantial part of the
location retrieval process builds upon that kernel and extends it. That means, that the `src/Kernel.php`
class must be publicly available.

## Routing

Afterwards, you need to add the following content to your `app/config/routing.yaml` file:

```yaml
# app/config/routing.yml
#...
cjw_config_processor_bundle:
  resource: "@CJWConfigProcessorBundle/Resources/config/routing.yaml"
```

## Additional Bundle Config

You can also customize a few bundle settings and adapt the bundle to your requirements.
To do that, you can create a yaml file in the `app/config` directory of your
installation (the config can also be added to any other existing yaml file in the config directory).
If you did create a new file, name the file however you like, for example `cjw_config_processor.yaml`.
Finally, set the following options:

```yaml
# example settings
cjw_config_processor:
  custom_site_access_parameters:
    allow: false
    scan_parameters: false
    parameters:
      - "parameter1"
      - "parameter2.with.more.parts"
      - "parameter3.parts"

  favourite_parameters:
    allow: true
    scan_parameters: true
    parameters:
      - "parameter1.very.specific"
      - "parameter2.broader"
      - "parameter3"
      - "parameter2.others"
```

**For more info on how to configure and customize the behaviour of the bundle check:
[Configure the ConfigProcessor](../help/bundle_configuration.en.md)**
